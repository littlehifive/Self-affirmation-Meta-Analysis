# Self-affirmation-Meta-Analysis

This project runs a `drake` workflow using the `drake` package in R (<https://github.com/ropensci/drake>). `drake` is a workflow management tool that analyzes and visualizes each step (or target) in a project. We use this tool to enhance the reproducibility of the meta-analysis.

Run `r_make()` to run the workflow in a fresh new R process, and run `r_vis_drake_graph()` to visualize the relationships among multiple targets.

## Components
### 1. Imports
- `extraction_basic_revised.csv` is the extraction sheet for all study-level information.
- `moderator_coding.csv` helps with moderator analysis because moderators might be on different levels.
- `Turetsky under review.csv`, `Purdie-Greenaway.sav`, `Kost-smith.dta`, `Serra-Garcia Study 2.dta` are the four original datasets that we used to calculate effect sizes for these three studies. `Goyer.xlsx` contains the numbers extracted from plots using `WebPlotDigitizer`.

### 2. R scripts
- `packages.R` contains all necessary R packages.
- `functions.R` contains all necessary utility and calculation functions.
- `calculations.R` calculates the effect sizes for each study.
- `cleaning.R` cleans the master dataset and the moderator dataset.
- `analysis.R` contains analysis functions for all analysis reported in the main text.
- `plan.R` contains all the targets to run a drake workflow (from calculation to cleaning to analysis to exporting data).
- `_drake.R` sources each script and configures the `drake` workflow.
- `make.R` makes the plan and runs a `drake` workflow.
- `additional models.R` is not sourced in the workflow and serves as a test field for new analysis.

### 3. Exports
- Outputs contain all possible results for study-level, cluster-level and multilevel analysis, including model outputs and plots. All outputs are automatically generated by running the `drake` workflow.

